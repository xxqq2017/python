#！/usr/bin/env python
#-*-coding:utf-8-*-
#1公司所有的网络设备IP池
#2每30秒循环对池内的所有IP进行测试
#3有错误的返回发出警告

import os

ip_True= open('ip_True.txt','w+')
ip_False= open('ip_False.txt','w+')
IPhosts = [
    #交换机组
    '192.168.90.1','192.168.90.2','192.168.90.3',
    '192.168.90.4','192.168.90.5','192.168.90.253',
    '192.168.90.252',
    #无线AP组
    # '192.168.90.100','192.168.90.101','192.168.90.102',
    # '192.168.90.103','192.168.90.104',
    # '192.168.90.105','192.168.90.106','192.168.90.107',
    # '192.168.90.108','192.168.90.201',
    # '192.168.90.202','192.168.90.97','192.168.90.98',
    # '192.168.90.99',
    #服务器组
    '192.168.100.2','192.168.100.3',#DC
    '192.168.100.130','192.168.100.140',
    '192.168.100.122','192.168.100.10',
    '192.168.100.125','192.168.100.10',
    '192.168.100.160',
    #监控组
    '192.168.200.1','192.168.200.2','192.168.200.3',
    '192.168.200.4', '192.168.200.5', '192.168.200.6',
    '192.168.200.7','192.168.200.8','192.168.200.9',
    '192.168.200.10','192.168.200.11','192.168.200.20',
    '192.168.200.30', '192.168.200.40', '192.168.200.50',
    '192.168.200.60','192.168.200.70',
    #考勤组
    '192.168.40.101',
    '192.168.40.102',
    '192.168.40.103',
    '192.168.40.104',
    #其它
    '183.63.151.106','183.63.151.107',#6是ER3100出口，7是自行测试
    '183.63.151.108',
    '183.63.151.109','183.63.151.110',#9是测试机，110是FW
	'www.gd-espec.com','www.gd-espec.cn',#网站
    #打印机组
    '192.168.40.20','192.168.40.30',
    '192.168.40.40','192.168.40.50','192.168.40.70'
     ]

count_True,count_False = 0,0

for ip in IPhosts:
    return1=os.system('ping -n 1 -w 1 %s'%ip)
    if return1:
        ip_False.write(ip+'\n')
        count_False += 1
    else:
        ip_True.write(ip+'\n')
        count_True += 1

ip_False.write('\n'+str(count_False)+'\n')
ip_True.write('\n'+str(count_True)+'\n')

ip_True.close()
ip_False.close()
